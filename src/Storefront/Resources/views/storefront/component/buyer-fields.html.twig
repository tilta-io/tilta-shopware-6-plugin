{% block tcf_component_additional_details_fields %}
    {% block tcf_component_additional_details_fields_salutation_wrapper %}
        <div class="{{ formRowClass }}">
            {% block tcf_component_additional_details_fields_salutation %}
                <div class="form-group col-12">
                    {% block tcf_component_additional_details_fields_salutation_label %}
                        <label class="form-label" for="{{ idPrefix ~ prefix }}personalSalutation">
                            {{ "account.personalSalutationLabel"|trans|sw_sanitize }}{{ "general.required"|trans|sw_sanitize }}
                        </label>
                    {% endblock %}

                    {% block tcf_component_additional_details_form_salutation_select %}
                        <select id="{{ idPrefix ~ prefix }}personalSalutation"
                                class="form-control {{ formSelectClass }}{% if formViolations.getViolations('/salutationId') is not empty %} is-invalid{% endif %}"
                                name="{% if prefix %}{{ prefix }}[salutationId]{% else %}salutationId{% endif %}"
                                required="required">
                            {% if not data.get('salutationId') %}
                                <option disabled="disabled"
                                        selected="selected"
                                        value="">
                                    {{ "account.personalSalutationPlaceholder"|trans|sw_sanitize }}
                                </option>
                            {% endif %}
                            {% for salutation in page.salutations %}
                                <option {% if salutation.id == data.get('salutationId') %}
                                    selected="selected"
                                {% endif %}
                                        value="{{ salutation.id }}">
                                    {{ salutation.translated.displayName }}
                                </option>
                            {% endfor %}
                        </select>
                    {% endblock %}

                    {% block tcf_component_additional_details_form_salutation_select_error %}
                        {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                            violationPath: '/salutationId',
                            violationLabel: "account.personalSalutationLabel"|trans|sw_sanitize
                        } %}
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}

    {% block tcf_component_additional_details_fields_phone_number_wrapper %}
        <div class="{{ formRowClass }}">
            {% block tcf_component_additional_details_fields_phone_number %}
                <div class="form-group col-12">
                    {% block component_address_form_phone_number_label %}
                        <label class="form-label" for="{{ idPrefix ~ prefix }}AddressPhoneNumber">
                            {{ "address.phoneNumberLabel"|trans|sw_sanitize }}{{ "general.required"|trans|sw_sanitize }}
                        </label>
                    {% endblock %}

                    {% block component_address_form_phone_number_input %}
                        <input type="text"
                               class="form-control{% if formViolations.getViolations('/phoneNumber') is not empty %} is-invalid{% endif %}"
                               id="{{ idPrefix ~ prefix }}AddressPhoneNumber"
                               placeholder="{{ "address.phoneNumberPlaceholder"|trans|striptags }}"
                               name="phoneNumber"
                               value="{{ data.get('phoneNumber') }}"
                               required="required">

                        {% block tcf_component_additional_details_fields_phone_number_notice %}
                            <small class="text-muted">{{ "tilta.address.phoneNumberNotice"|trans|sw_sanitize }}</small>
                        {% endblock %}
                    {% endblock %}

                    {% block tcf_component_additional_details_fields_phone_input_error %}
                        {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                            violationPath: '/phoneNumber',
                            violationLabel: "address.phoneNumberLabel"|trans|sw_sanitize
                        } %}
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}

    {% block tcf_component_additional_details_fields_legal_form_wrapper %}
        <div class="{{ formRowClass }}">
            {% block tcf_component_additional_details_fields_legal_form %}
                <div class="form-group col-12">
                    {% block tcf_component_additional_details_fields_legal_form_label %}
                        <label class="form-label"
                               for="{{ idPrefix ~ prefix }}legalForm">
                            {{ "account.tilta.legalFormLabel"|trans|sw_sanitize }}{{ "general.required"|trans|sw_sanitize }}
                        </label>
                    {% endblock %}

                    {% block tcf_component_additional_details_form_legal_form_select %}
                        <select id="{{ idPrefix ~ prefix }}legalForm"
                                class="form-control {{ formSelectClass }}{% if formViolations.getViolations('/legalForm') is not empty %} is-invalid{% endif %}"
                                name="legalForm"
                                required="required">
                            {% if not data.get('legalForm') %}
                                <option disabled="disabled"
                                        selected="selected"
                                        value="">
                                    {{ "account.tilta.legalFormPlaceholder"|trans|sw_sanitize }}
                                </option>
                            {% endif %}
                            {% for legalForm in page.legalForms %}
                                <option value="{{ legalForm.value }}" {% if legalForm.value == data.get('legalForm') %}selected="selected"{% endif %}>
                                    {{ legalForm.label }}
                                </option>
                            {% endfor %}
                        </select>
                    {% endblock %}

                    {% block tcf_component_additional_details_form_legal_form_select_error %}
                        {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                            violationPath: '/legalForm',
                            violationLabel: "account.tilta.legalFormLabel"|trans|sw_sanitize
                        } %}
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}

{#    {% block tcf_component_additional_details_vatid %}#}
{#        <div class="{{ formRowClass }}">#}
{#            {% block tcf_component_additional_details_vatid_name %}#}
{#                <div class="form-group col-12">#}
{#                    {% block tcf_component_additional_details_vatId_label %}#}
{#                        <label class="form-label" for="{{ idPrefix ~ prefix }}vatId">#}
{#                            {{ "address.companyVatLabel"|trans|sw_sanitize }}{{ "general.required"|trans|sw_sanitize }}#}
{#                        </label>#}
{#                    {% endblock %}#}

{#                    {% block tcf_component_additional_details_vatId_input %}#}
{#                        <input type="text"#}
{#                               class="form-control{% if violationPath %} is-invalid{% endif %}"#}
{#                               id="{{ idPrefix ~ prefix }}vatId"#}
{#                               placeholder="{{ "address.companyVatPlaceholder"|trans|striptags }}"#}
{#                               name="vatId"#}
{#                               value="{{ data.get('vatId') }}"#}
{#                               data-form-validation-required#}
{#                               required="required">#}
{#                    {% endblock %}#}

{#                    {% block tcf_component_additional_details_fields_vatId_input_error %}#}
{#                        {% if formViolations.getViolations('/vatId') is not empty %}#}
{#                            {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {#}
{#                                violationPath: '/vatId'#}
{#                            } %}#}
{#                        {% endif %}#}
{#                    {% endblock %}#}
{#                </div>#}
{#            {% endblock %}#}
{#        </div>#}
{#    {% endblock %}#}

    {% block tcf_component_additional_details_fields_incorporatedAt %}
        {% block tcf_component_additional_details_fields_incorporatedAt_label %}
            <label for="{{ idPrefix ~ prefix }}incorporatedAt">
                {{ "account.tilta.incorporatedAtLabel"|trans|sw_sanitize }}{{ "general.required"|trans|sw_sanitize }}
            </label>
        {% endblock %}

        {% block tcf_component_additional_details_fields_incorporatedAt_selects %}
            <div class="{{ formRowClass }}">
                {% block tcf_component_additional_details_fields_incorporatedAt_select_day %}
                    <div class="form-group col-4">
                        <select id="{{ idPrefix ~ prefix }}incorporatedAt"
                                name="incorporatedAtDay"
                                class="form-control {{ formSelectClass }}{% if formViolations.getViolations('/incorporatedAt') is not empty %} is-invalid{% endif %}"
                                required="required">
                            {% if not data.get('incorporatedAtDay') %}
                                <option selected="selected" value="">{{ "account.tilta.incorporatedAtSelectDay"|trans|sw_sanitize }}</option>
                            {% endif %}
                            {% for day in range(1, 31) %}
                                <option value="{{ day }}"{% if day == data.get('incorporatedAtDay') %} selected="selected"{% endif %}>
                                    {{ day }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                {% endblock %}

                {% block tcf_component_additional_details_fields_incorporatedAt_select_month %}
                    <div class="form-group col-4">
                        <select name="incorporatedAtMonth"
                                class="form-control {{ formSelectClass }}{% if formViolations.getViolations('/incorporatedAt') is not empty %} is-invalid{% endif %}"
                                required="required">
                        {% if not data.get('incorporatedAtMonth') %}
                                <option selected="selected" value="">{{ "account.tilta.incorporatedAtSelectMonth"|trans|sw_sanitize }}</option>
                            {% endif %}
                            {% for month in range(1, 12) %}
                                <option value="{{ month }}"{% if month == data.get('incorporatedAtMonth') %} selected="selected"{% endif %}>
                                    {{ month }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                {% endblock %}

                {% block tcf_component_additional_details_fields_incorporatedAt_select_year %}
                    <div class="form-group col-4">
                        {% set currentYear = "now"|date('Y') %}
                        {% set startYear = currentYear - 120 %}

                        <select name="incorporatedAtYear"
                                class="form-control {{ formSelectClass }}{% if formViolations.getViolations('/incorporatedAt') is not empty %} is-invalid{% endif %}"
                                required="required">
                            {% if not data.get('incorporatedAtYear') %}
                                <option selected="selected" value="">{{ "account.tilta.incorporatedAtSelectYear"|trans|sw_sanitize }}</option>
                            {% endif %}
                            {% for year in range(currentYear, startYear) %}
                                <option value="{{ year }}"{% if year == data.get('incorporatedAtYear') %} selected="selected"{% endif %}>
                                    {{ year }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                {% endblock %}

                {% block tcf_component_additional_details_fields_incorporatedAt_input_error %}
                    {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                        violationPath: '/incorporatedAt',
                        violationLabel: "account.tilta.incorporatedAtLabel"|trans|sw_sanitize
                    } %}
                {% endblock %}
            </div>
        {% endblock %}
    {% endblock %}

    {% block tcf_component_additional_details_fields_toc_wrapper %}
        <div class="{{ formRowClass }}">
            <div class="form-group col-12">
                {% block tcf_component_additional_details_fields_toc %}
                    <div class="{{ formCheckboxWrapperClass }}">
                        <input type="checkbox"
                               class="{{ formCheckInputClass }}{% if formViolations.getViolations('/toc') is not empty %} is-invalid{% endif %}"
                               required="required"
                               id="toc"
                               name="toc"
                               value="1"/>

                        <label for="toc" class="custom-control-label">
                            {{ "account.tilta.terms-of-condition"|trans|raw }}
                        </label>
                    </div>
                {% endblock %}
            </div>
        </div>
    {% endblock %}

{% endblock %}

{% block tcf_loading_screen %}
    <div class="tcf_loading-screen" style="display: none">
        <div class="inner">
            <div class="text">{{ "account.tilta.loadingScreenText"|trans|sw_sanitize }}</div>
        </div>
    </div>
{% endblock %}
